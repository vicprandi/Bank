# Bank
Bank Project for Zup Innovation
-

A project developed for the training plan at Asgard Squad. I used Java for this project in general, because that's the language I feel more confortable about. The framework used was Spring Boot. 
The project was first created at spring.io website, which is a website that helps you to create the project base.

The main request was to simulate a bank application with some operations, as:
- Deposit money.
- Withdraw money.
- Transferm money between accounts.
- Show the balance.
- Show the exctract with all transactions.

Technologies used at Bank Project
-
- Java 
- Spring Boot
- Postgres SQL (via Docker Compose)
- Flyaway
- Maven
- Postman


How can you use it?
-

After you clone the github, you can access the bank package and run the command:
`docker-compose up`

There are some features inside this project that you can test via Postman, such as:

1. Client
- POST: Register Client `localhost:8080/customers`
- DELETE: Delete Client `localhost:8080/customers/delete/{clientCpf}`
- PUT: Update Client by CPF (body request) `localhost:8080/customers/update`
- GET: Get a specific customer by CPF `localhost:8080/customers/{clientCpf}`
- GET: Get all customers `localhost:8080/customers`
2. Account
- POST: Register Account by CPF `localhost:8080/accounts/{clientCpf}`
- DELETE: Delete Account by AccountId `localhost:8080/accounts/delete/{id}`
- GET: Get a specific account by AccountId  `localhost:8080/customers/{id}`
- GET: Get all accounts `localhost:8080/accounts`
3. Transactions (amount is a number like= 100.00)
- POST: Deposit Money `localhost:8080/transaction/deposit/{accountNumber}?amount={amount}`
- POST: Withdraw Money `localhost:8080/transaction/withdraw/{accountNumber}?amount={amount}`
- POST: Transfer Money between Accounts  `localhost:8080/transaction/transfer?amount={amount}&originAccountNumber={originAccountNumber}}&destinationAccountNumber={destinationAccountNumber}`
- GET: Bring all transactions `localhost:8080/transaction`
- GET: Bring specific transaction of a Client by ClientId `localhost:8080/transaction/{clientId}`

Things to remember:
- The id is auto generated.
- When you create a account, the accountNumber is autogenerated.
- You cannot put letters or special characteres at CPF, only 11 numbers.
- You cannot transfer money you don't have.
- You cannot withdraw money you don't have.
- You cannot transfer money between the same accounts.

----

Bank Project - Part II
-

After creating the bank project, there's the second part of the training plan. I had to implement Kafka. 
First, I introduced Kafka into docker-compose by dockerizing it. After that, I used the commmand-line:

- bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic transactions

But I realized that implementing it via code it's so much better. So, I created the *topic* inside:
- KafkaConfiguration.

I needed to make two important and essencial things: the producer and the consumer. 

1. Producer:
- KafkaProducerConfiguration -> In a Spring Boot application that uses Apache Kafka, the KafkaProducerConfiguration class is used to configure the Kafka producer that sends messages to Kafka topics.
a. Ccntains a method named producerFactory(), which is used to create an instance of the Kafka producer factory that will be used to create Kafka producer instances. The producer factory is responsible for creating and configuring Kafka producers that will send messages to Kafka topics. The producerFactory() method typically takes in configuration properties for the Kafka producer, such as the bootstrap servers, the serializer for the key and value of the Kafka message, and other properties that control the behavior of the producer. These properties are used to create a ProducerFactory instance that is used to create Kafka producer instances.
2. Consumer:
- KafkaListenerConfiguration -> In a Spring Boot application that uses Apache Kafka, the KafkaListenerConfiguration class is used to configure the Kafka consumer that reads messages from Kafka topics. 
a. The consumerFactory() method in KafkaListenerConfiguration is used to create an instance of the Kafka consumer factory that will be used to create Kafka consumer instances. The consumer factory is responsible for creating and configuring Kafka consumers that will read messages from Kafka topics. The method typically takes in configuration properties for the Kafka consumer such as the bootstrap servers, the deserializer for the key and value of the Kafka message, the group ID for the consumer, and other properties that control the behavior of the consumer. These properties are used to create a ConsumerFactory instance that is used to create Kafka consumer instances. 
- Also have a TransferMoneyListener inside the Consumer to consume the message and transfer the money.

Project developed by: victoria.moreira@zup.com.br
-
